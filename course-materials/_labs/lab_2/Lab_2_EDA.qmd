---
title: "CSI-MTH 190: Intro to Data Science"
subtitle: "Lab 2: Intro to Data"
author: "Nicholas Schwab"
date: "today"
format:
  html:
    embed-resources: true
execute:
    eval: false
    message: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE)
library(tidyverse)
#install.packages(mdsr)
library(mdsr)
```

## Introduction 

In this assignment you will get yourself acquainted with new data. When we study data we are unfamiliar with we need to explore it. We do this by making graphs, calculating statistics and looking at the documentation. You will do all of these things for the `MLB_teams` data. Of course you don't know the MLB_teams data well yet, but you can probably guess it has information on major league baseball teams in the US. By the end of this assignment you will be able to answer questions about it. 

If you would like you can watch me do a similar analysis on another data set by watching the video on canvas. 

## Goal:

This assignment is about doing an exploratory data analysis (EDA) with R. When statisticians have data that has been newly gathered they  examine it to begin to understand it. They like to know the shape of the data, the center of the data and anything else that might be useful in doing an analysis. Completing an EDA is a very useful skill.

By the end of this assignment you will be able to tell me:

- where the data came from.
- how many observations and variables there are in the data.
- the average (or center) of one of the variables.
- the shape of a graph of one of the variables. 
- how to make a scatter plot of two variables and draw a conclusion. 


## What is due: 

You will do an exploratory data analysis on the `MLB_teams` survey data. You must answer all questions. If you have questions please post them to the discussion for this lab. 

You will turn in an html output of your work by the due date.

This and all labs will be peer graded, I will double check your peers' grading. 

## Part 1. Familiarize yourself with your data. 

Make a chunk below and use the ? operator to pull up the help menu for the MLB_teams data then answer the questions below in full sentences to introduce your data. The documentation is not great, you many find just viewing the data helpful.  


Data Questions

1. How many variables are in the data?

**Answer:** 

2. List one variable that is categorical.

**Answer:** 

3. Considering the help menu. What are the sources of this data?

**Answer:** 

4. For this problem, use the `count()` function from the dplyr package. How many teams are present in this data? (Hint: You may want to google examples of count() or see the documentation). 

```{r}

```

**Answer:** 

5. There are 30 MLB teams in the US, Is this number different than your answer above? Why? 


**Answer:** 


## Calculate the Summary Statistics

Note: If you have taken statistics with me, this method of summarizing will feel different than what you've done in the past.

When we summarize data we will use several functions together. This feels clunky at first but makes working with data easier later. We'll use the pipe |> to move data from one bit to the next. We'll use the `summarize()` function from the tidyverse and `mean()` from base R. The mean() is a type of average of the data. The code below calculates the mean of the wins for all the teams and makes a new variable called `mean_win`. 

```{r summary}
# The code for the summary data goes here
MLB_teams |>
    summarize(mean_win = mean(W))
```

Take the code above and add another variable called `mean_loss`.  You should have two variables in your output: `mean_win` and `mean_loss`. You may want to google another example or check out the documentation for `summarize()`. 

**Answer in a chunk below.**





It would be nice to group the data by years or teams. This way we could see which team did best in the data. I'll summarize the mean by yearID below. Notice, its a little boring, of course the average for each year is the same. 

```{r summary}
# The code for the summary data goes here
MLB_teams |>
    group_by(yearID) |>
    summarize(mean_win = mean(W))
```


Questions:

6. Group by both yearID and teamID to answer the following. In what year did the Red Sox have the highest average wins? Hint: Pipe your summarize into filter(teamID == "BOS") to only see only the Red Sox, we'll talk more about filter later. 

```{r summary}
# The code for the summary data goes here
MLB_teams |>
    group_by(yearID,teamID) |>
    summarize(mean_win = mean(W))|>
    filter(teamID == "BOS")
```

**Answer:** 

You can save your summarized data by putting setting it equal to a variable, like this: 

```{r summary}
# The code for the summary data goes here
my_summary = MLB_teams |>
    group_by(yearID) |>
    summarize(mean_win = mean(W))
```

Note that when you save the variable it does not print until you call it. Also you should not overwrite the dataset (don't use the vairable name MLB_teams, as it will remain overwritten until you restart).

```{r}
#If you run this chunk it'll print the data in the variable.
# You can also find the data in the environment pane.  
my_summary
```

7. Group by the league ID and year ID and find the total attendance for each league with sum() inside of summarize, this will look like when you did it with mean() above, save your dataframe as `mlb_attendance`.

**Answer in a chunk below:** 

8. Pipe mlb_attendance into ggplot() and use geom_col() to make a bar graph showing the summary you calculated in number 7. 


**Answer in a chunk below:** 

```{r}

```

9. We can add lables by adding labs() after our geom. I would do this like this for my_summary data:

```{r}
my_summary |>
    ggplot()+
    geom_col(aes(x=yearID, y= mean_win))+
    labs(x = "year",
         y = "average winnings",
         title = "Major League Baseball Average Winnings",
         subtitle = "For all teams",
         caption = "source: Lahman::Teams via the MDSR R package")
```

10. Do this again for your `mlb_attendance` data frame. 

## One more analysis

11. I'm curious which metro areas are larger on average, those for the American League or the National League. Do an analysis to summarize the data, graph the data, and pretty up the data with a title, x and y labels and a source caption. You can do all of this in one chunk. Write a sentence or two summary of your graph. Note: AI can do this very well and quickly, if you are caught having AI general this analysis for you will recieve a 0 on this assignment. Try your best and ask for help if you are stuck. You should be ble to use all you've learned in this assignment to complete this task. 

**Answer in a chunk below:**

```{r}


```

**Summarize your table with a sentence:**